# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2018"
rust-version = "1.70.0"
name = "sev"
version = "4.0.0"
authors = [
    "Nathaniel McCallum <npmccallum@redhat.com>",
    "The VirTEE Project Developers",
]
build = "build.rs"
exclude = [
    ".gitignore",
    ".github/*",
]
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Library for AMD SEV"
homepage = "https://github.com/virtee/sev"
readme = "README.md"
keywords = [
    "amd",
    "sev",
]
categories = [
    "os",
    "os::linux-apis",
    "parsing",
    "network-programming",
    "hardware-support",
]
license = "Apache-2.0"
repository = "https://github.com/virtee/sev"

[lib]
name = "sev"
crate-type = [
    "staticlib",
    "dylib",
    "rlib",
]
path = "src/lib.rs"
doc = false

[[test]]
name = "api"
path = "tests/api.rs"

[[test]]
name = "certs"
path = "tests/certs.rs"

[[test]]
name = "guest"
path = "tests/guest.rs"

[[test]]
name = "id-block"
path = "tests/id-block.rs"

[[test]]
name = "launch"
path = "tests/launch.rs"

[[test]]
name = "measurement"
path = "tests/measurement.rs"

[[test]]
name = "session"
path = "tests/session.rs"

[[test]]
name = "snp_launch"
path = "tests/snp_launch.rs"

[dependencies.base64]
version = "0.22.1"

[dependencies.bincode]
version = "^1.3"

[dependencies.bitfield]
version = "^0.15"

[dependencies.bitflags]
version = "1.2"

[dependencies.byteorder]
version = "1.4.3"

[dependencies.codicon]
version = "3.0"

[dependencies.dirs]
version = "5.0"

[dependencies.hex]
version = "0.4.3"

[dependencies.lazy_static]
version = "1.4.0"

[dependencies.libc]
version = "0.2.154"

[dependencies.openssl]
version = "0.10"
optional = true

[dependencies.p384]
version = "0.13.0"
optional = true

[dependencies.rdrand]
version = "^0.8"
optional = true

[dependencies.rsa]
version = "0.9.6"
optional = true

[dependencies.serde]
version = "1.0"
features = ["derive"]

[dependencies.serde-big-array]
version = "0.5.1"

[dependencies.serde_bytes]
version = "0.11"

[dependencies.sha2]
version = "0.10.8"
optional = true

[dependencies.static_assertions]
version = "^1.1.0"

[dependencies.uuid]
version = "^1.8"
features = ["serde"]

[dependencies.x509-cert]
version = "0.2.5"
optional = true

[dev-dependencies.kvm-bindings]
version = ">=0.7"

[dev-dependencies.serial_test]
version = "3.0"

[features]
crypto_nossl = [
    "dep:p384",
    "dep:rsa",
    "dep:sha2",
    "dep:x509-cert",
]
dangerous_hw_tests = ["hw_tests"]
default = [
    "sev",
    "snp",
]
hw_tests = []
openssl = [
    "dep:openssl",
    "rdrand",
]
sev = []
snp = []

[target.'cfg(target_os = "linux")'.dependencies.iocuddle]
version = "0.1"

[target.'cfg(target_os = "linux")'.dev-dependencies.kvm-ioctls]
version = ">=0.16"

[badges.github]
repository = "virtee/sev"
workflow = "test"

[badges.is-it-maintained-issue-resolution]
repository = "virtee/sev"

[badges.is-it-maintained-open-issues]
repository = "virtee/sev"

[badges.maintenance]
status = "actively-developed"
